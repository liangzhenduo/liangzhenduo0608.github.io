<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="theme-color" content="#171714">
  
  <meta name="google-site-verification" content="fTlRYC4_eug8Q64ZK4Lzdv8mcunvs7S0Ec-39TBokv4">
  
  
  <!-- Google Analytics -->
  <script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-132384849-1', 'auto');
	ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->



  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-8SFVJTQFBY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-8SFVJTQFBY');
  </script>


  
  <!-- Google AdSense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-9920928489161252",
      enable_page_level_ads: true
    });
  </script>
  <!-- End Google AdSense -->


  
  <link rel="alternative" href="/atom.xml" title="Shintaku&#39;s Blog" type="application/atom+xml">
  
  <link rel="manifest" href="manifest.json">
  
  <link rel="shortcut icon" href="/images/icon.png">
  
  
  <title>Shintaku&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Shintaku&#39;s Blog">
<meta property="og:url" content="https://www.shintaku.xyz/page/5/index.html">
<meta property="og:site_name" content="Shintaku&#39;s Blog">
<meta property="og:locale">
<meta property="article:author" content="Shintaku">
<meta name="twitter:card" content="summary">
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-3.3.1.min.js"></script>
  <script src="/js/nprogress.js"></script>
  <link href="/css/nprogress.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Shintaku&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=fa-home title='Home'></i> Home</a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=fa-archive title='Archives'></i> Archives</a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=fa-tags title='Tags'></i> Tags</a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.shintaku.xyz"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main" class='pjax'>
  
    <article id="post-6relayd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/6relayd/" class="article-date">
  <time datetime="2015-12-15T07:15:15.000Z" itemprop="datePublished">2015-12-15</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a>►<a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/6rbanner.png" rel="gallery_cl7hqgzci00039ih88wooe3en">
        <img src="/img/6rbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/6relayd/">OpenWrt路由器的IPv6代理</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/6relayd/" data-id="cl7hqgzci00039ih88wooe3en" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/6relayd/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IPv6/" rel="tag">IPv6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenWrt/" rel="tag">OpenWrt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ShadowSocks/" rel="tag">ShadowSocks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag">科学上网</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/" rel="tag">路由器</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>之前本来是想用路由器获取IPv6地址并使用双栈连接的代理服务器访问互联网。虽然之前网件自己的固件是有<strong>穿透模式</strong>并可以获取v6地址，但是无法安装ShadowSocks，所以才刷成了OpenWrt。但是这个固件默认是没有<strong>穿透模式</strong>的，所以需要自己配一发。</p>
<p>现在我们需要用到以下软件：</p>
<ul>
<li>shadowsocks-libev-spec</li>
<li>luci-app-shadowsocks-spec</li>
<li>6relayd</li>
</ul>
<h1 id="安装ShadowSocks"><a href="#安装ShadowSocks" class="headerlink" title="安装ShadowSocks"></a>安装ShadowSocks</h1><p>在OpenWrt上我们可以安装<code>shdowsocks-libev</code>版本，顺便搭配LuCI界面的<code>luci-app</code>使用，这个项目在<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/openwrt-dist/files/shadowsocks-libev/">sourceforge</a>有发布，可以从这里下载最新的。下载完成后使用<code>opkg</code>命令安装：</p>
<pre><code>opkg install shadowsocks-libev-spec_2.4.6-1_ar71xx.ipk
opkg install luci-app-shadowsocks-spec_1.4.0-1_all.ipk
</code></pre><p>安装完成后<code>reboot</code>命令重启路由器，再次进入LuCI界面可以看到多了一个<code>Services</code>-<code>ShadowSocks</code>：</p>
<p><img src="/img/opss.png" alt="ShadowSocks"></p>
<p>就说明安装正确，在里面输入ShadowSocks服务器信息就可以自动代理了，凡是连上这台路由器的设备获取到的都是代理后的网络了。</p>
<h1 id="安装6relayd"><a href="#安装6relayd" class="headerlink" title="安装6relayd"></a>安装6relayd</h1><p>由于现在即使通过代理上网也是消耗校内流量的，为了不走流量，我们只能借助IPv6网络。但是普通的路由器很少可以正常获取IPv6地址，即使路由器能获取到连接设备也很难获取，除了NETGEAR的部分路由器（包括WNR2200）的新版固件是有IPv6连接的，并且本人亲测使用<code>穿透模式</code>可以正常使用IPv6网络。所以我希望在OpenWrt上也能使用<code>穿透模式</code>，再通过ShadowSocks代理IPv6网络就可以免流量访问外网了。</p>
<p>要使用<code>穿透模式</code>就少不了<a target="_blank" rel="noopener" href="https://wiki.openwrt.org/doc/uci/6relayd">6relayd</a>这个软件。可是官方源如今没提供这个包，于是可以获取我的备份并安装：</p>
<pre><code>wget https://www.shintaku.cc/files/6relayd_2013-10-21_ar71xx.ipk
opkg install 6relayd_2013-10-21_ar71xx.ipk
</code></pre><p>安装完成之后编辑<code>/etc/config/6relayd</code>文件在默认配置后面加一组：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">config relay</span><br><span class="line">	option master   <span class="string">&#x27;wan&#x27;</span></span><br><span class="line">	option network  <span class="string">&#x27;lan&#x27;</span></span><br><span class="line">	option rd       <span class="string">&#x27;relay&#x27;</span></span><br><span class="line">	option dhcpv6   <span class="string">&#x27;relay&#x27;</span></span><br><span class="line">	option ndp      <span class="string">&#x27;relay&#x27;</span></span><br></pre></td></tr></table></figure>
<p>保存后使用下面的命令开启服务并设置为开机启动即可：</p>
<pre><code>/etc/init.d/6relayd start
/etc/init.d/6relayd enable
</code></pre><h1 id="配置路由器"><a href="#配置路由器" class="headerlink" title="配置路由器"></a>配置路由器</h1><p>现在要到LuCI界面下找到<code>Network</code>-<code>Interfaces</code>并添加一个新的接口：</p>
<p><img src="/img/opnew.png" alt="Add new interface"></p>
<p>接口名叫<code>wan6</code>，协议选择<code>DHCPv6 client</code>，接口自定义为<code>@wan</code>：</p>
<p><img src="/img/opwan6.png" alt="wan6"></p>
<p>保存应用后重启路由器，就会发现多了一个WAN6接口，并且WAN口获取到IPv6地址了：</p>
<p><img src="/img/opipv6.png" alt="IPv6地址"></p>
<p>这时回到ShadowSocks的配置界面，将服务器地址改为VPS的IPv6地址就可以了：</p>
<p><img src="/img/opsss.png" alt="ShadowSocks设置"></p>
<p>记得要开全局代理，因为毕竟PPPoE拨着号呢，<del>在校园网11月30日改革后有线网拨号后不用登录就能上网让我很慌啊，路由器一直连着网终归是有偷跑流量的风险，所以打开IPv6全局代理最为保险，使得能通过代理的IPv6网络可以使用而IPv4网络因为通不过代理无法使用。</del>2016年春季学期开学后发现即使拨号路由器也无法获取IPv6地址了。</p>
<p>于是现在得到的效果就是任何连接到这台路由器的设备无需任何登录即可<strong>访问外网</strong>，而且<strong>不消耗校内网流量</strong>，网络还<strong>自带科学上网Buff</strong>，从此妈妈再也不用担心我流量不够用了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-openwrt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/openwrt/" class="article-date">
  <time datetime="2015-12-12T04:12:12.000Z" itemprop="datePublished">2015-12-12</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a>►<a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" target="_blank" href="https://wiki.openwrt.org/lib/tpl/openwrt/images/logo.png" rel="gallery_cl7hqgzd6002k9ih88h90gygt noopener">
        <img src="https://wiki.openwrt.org/lib/tpl/openwrt/images/logo.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/openwrt/">路由器刷入OpenWrt固件</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/openwrt/" data-id="cl7hqgzd6002k9ih88h90gygt" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/openwrt/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenWrt/" rel="tag">OpenWrt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/" rel="tag">路由器</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>暑假剁手了一台rMBP但没有以太网接口，为了省钱就需要一个无线路由器，之前曾了解到路由器可以刷<strong>OpenWrt</strong>后装上<strong>ShadowSocks</strong>实现自动科学上网，于是就在集训的时候从马云家买了一个二手的<a target="_blank" rel="noopener" href="http://www.tp-link.com.cn/product_225.html">TP-Link TL-WR703N</a>刷上OpenWrt在机房给笔记本供网。</p>
<p><img src="/img/op703n.png" alt="TL-WR703N"></p>
<p>由于这货只有一个网口，当路由器自动获取IP地址后，就进不去<a target="_blank" rel="noopener" href="http://192.168.1.1/">192.168.1.1</a>的管理界面了，虽然能上网，但每次换网线接头的时候都要捅菊花抹掉原来的设置。因此只有使用静态IP时才能正常使用这种路由器。这学期开学后发现家里有一个<a target="_blank" rel="noopener" href="http://www.netgear.com/home/products/networking/wifi-routers/wnr2200.aspx">Netgear WNR2200</a>在吃灰，于是就把它拿到学校刷上了OpenWrt放宿舍给各种无线设备供网。</p>
<p><img src="/img/op2200.png" alt="WNR2200"></p>
<h1 id="刷入固件"><a href="#刷入固件" class="headerlink" title="刷入固件"></a>刷入固件</h1><p><strong>OpenWrt</strong>是一个适合于嵌入式设备的Linux发行版。它提供了一个可添加软件包的可写的文件系统，使用者可以自由的选择应用程序和配置，并且可以使用一些适合某方面的应用的软件包来定制设备。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h3><p>首先你要拥有一台可以刷入OpenWrt的路由器，至于OpenWrt支持那些设备，请到<a target="_blank" rel="noopener" href="https://wiki.openwrt.org/toh/start">Supported Devices</a>页面查看。本文以WNR2200为例。</p>
<h3 id="固件"><a href="#固件" class="headerlink" title="固件"></a>固件</h3><p>前往<a target="_blank" rel="noopener" href="https://downloads.openwrt.org/latest/">Download</a>下载最新的对应设备的固件。注意固件列表里一半会有两种后缀：<code>squashfs-factory.img</code>和<code>squashfs-sysupgrade.img</code>，如果是从原厂固件刷到OpenWrt请用前者，如果是从OpenWrt升级请用后者。还有一种可能文件名以<code>NA</code>结尾<del>，可能是代表<code>North America</code></del>，基本上与不带<code>NA</code>的没什么区别。</p>
<h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><p>还需要一台有以太网接口的电脑和一根网线，电脑操作系统不限，但是<em>Windows</em>需要提前开启<code>TFTP</code>（因为这个功能系统默认是关闭的），具体操作就是进入<code>控制面板</code>-<code>程序</code>-<code>程序和功能</code>，</p>
<p><img src="/img/optftp.png" alt="开启TFTP"></p>
<p>打开<code>打开或关闭Windows功能</code>窗口，在里面把<code>TFTP</code>挑上钩，之后就可以开始了。</p>
<h2 id="刷入固件-1"><a href="#刷入固件-1" class="headerlink" title="刷入固件"></a>刷入固件</h2><p><strong>刷机有风险，操作需谨慎！</strong><br><strong>刷机有风险，操作需谨慎！</strong><br><strong>刷机有风险，操作需谨慎！</strong><br><del>重要的事说三遍</del></p>
<p>首先要将路由器与电脑用网线相连（在后面的设置中网线是必要的），然后进入到路由器管理界面。</p>
<p>有的原厂固件是可以直接升级成OpenWrt的，因此首先进入路由器管理界面，找到固件升级的选项，选择下好的OpenWrt固件上传就可以了，我之前刷TL-WR703N时是可以直接上传的，上传完成重启后就算是刷完了。但我后来刷WNR2200时遇到了不认固件的情况（可能是因为原厂固件的版本问题），于是只好用<strong>TFTP</strong>的方式上传固件，这就是之前为什么要打开Windows中<code>TFTP</code>功能的原因。</p>
<p>如果从原厂管理界面中直接上传固件成功，请直接进入下一节；若不认固件，请执行以下步骤：</p>
<ul>
<li><p>关闭路由器电源，用笔尖捅住“Restore Factory Settings”<del>菊花</del>键不放。</p>
</li>
<li><p>打开路由器电源，这时电源黄灯开始闪烁，这时依然<strong>不要松开</strong>RESET键，直到电源灯变为绿色长亮（或闪烁？）才可松手（可能有的路由器的表现不一样，达到类似效果即可），这时路由器已经进入了tftp模式。</p>
</li>
<li><p>将电脑的IP设为<code>192.168.1.2</code>，子网掩码设为<code>255.255.255.0</code>，将电脑与路由器的<strong>1号LAN口</strong>用网线相连。</p>
</li>
<li><p>从终端进入到要刷的固件所在目录中，假设固件名叫<code>openwrt.img</code>，如果在<em>Windows</em>下则使用命令：</p>
<pre><code>  tftp -i 192.168.1.1 PUT &quot;openwrt.img&quot;
</code></pre><p>如果在<em>OS X</em>或<em>Linux</em>下则在终端里键入<code>tftp</code>，之后使用以下命令：</p>
<pre><code>  connect 192.168.1.1
  binary
  rexmt 1
  timeout 60
  put &quot;openwrt.img&quot;
</code></pre><p>稍等片刻，路由器的灯会出现各种变化，直到电源灯又恢复长绿状态（不同路由器或许不同），说明上传完成了。</p>
</li>
<li><p>重启路由器，不出意外之后应该可以通过网页访问<a href="192.168.1.1">192.168.1.1</a>的<code>LuCI</code>管理界面了。</p>
</li>
</ul>
<h2 id="开启无线"><a href="#开启无线" class="headerlink" title="开启无线"></a>开启无线</h2><p>较新的OpenWrt应该已经自带<code>LuCI</code>图形化界面了，因此直接浏览器打开<a href="192.168.1.1">192.168.1.1</a>就可以看到类似如下界面：</p>
<p><img src="/img/opfirst.png" alt="LuCI"></p>
<p>当然咯，第一次登入肯定是要先设密码的，毕竟也算是一个Linux系统：</p>
<p><img src="/img/oppasswd.png" alt="更改密码"></p>
<p>OpenWrt默认是关闭无线网络的，所以到<code>Network</code>-<code>Wifi</code>下面启用即可：</p>
<p><img src="/img/opwifi.png" alt="启用Wifi"></p>
<p>之后设置SSID和密码就可以通过无线方式连接了。</p>
<h1 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h1><p>既然要装上软件，自然要从互联网获取，那么路由器当然要联网咯。先到<code>Network</code>-<code>Interfaces</code>设置WAN口的上网方式，这点和普通路由器没有什么差别，这里不再赘述。</p>
<p>如果觉得英文LuCI使用不便，也可以到<code>System</code>-<code>Software</code>下找到一个叫<code>luci-i18n-base-zh-cn</code>的包装上就行了，当然首先要<code>Update lists</code>一下，之后到<code>System</code>-<code>System</code>下切换成<code>普通话</code>再刷新一下就变成中文界面了。</p>
<p><img src="/img/oplucicn.png" alt="设置中文"></p>
<p>当然，以后要装的部分软件也可以通过上面这种方式安装，但由于有的包官方源里没有，我们在下面使用一种更通用的方法——从命令行安装。</p>
<p>OpenWrt归根结底还是一个<strong>Linux发行版</strong>，所以Linux命令在这里依然适用。</p>
<p>我们还是通过SSH登录：</p>
<pre><code>ssh root@192.168.1.1
</code></pre><p>输入之前设置的密码后，就会看到OpenWrt特有的终端界面：</p>
<pre><code>BusyBox v1.23.2 (2015-07-25 15:09:46 CEST) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (15.05, r46767)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:~# 
</code></pre><p>先更新一下软件源（和LuCI中的软件包刷新列表是一样的）：</p>
<pre><code>opkg update
opkg list-installed
opkg list
</code></pre><p>然后就可以按照自己的需求安装要用的软件了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-aria2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/aria2/" class="article-date">
  <time datetime="2015-12-03T15:33:33.000Z" itemprop="datePublished">2015-12-03</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a>►<a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%EF%BC%8Anix/">＊nix</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/arbanner.png" rel="gallery_cl7hqgzcm00099ih86pbl7bq0">
        <img src="/img/arbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/aria2/">使用aria2多线程下载</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/aria2/" data-id="cl7hqgzcm00099ih86pbl7bq0" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/aria2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unix/" rel="tag">Unix</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%8B%E8%BD%BD/" rel="tag">下载</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p><strong>aria2</strong>是一款轻量级多线程的命令行下载工具，支持<strong>HTTP/HTTPS</strong>、<strong>FTP</strong>、<strong>SFTP</strong>、<strong>BitTorrent</strong>和<strong>Metalink</strong>等多种下载方式。程序支持Mac OS X、Linux、Windows等多平台。</p>
<p>这个下载器最大的优点就是多线程。最开始接触它的时候是因为在Mac下下载百度云的资源非常不方便，不借助其他工具只能通过浏览器下载，而且一个线程速度超慢，一不小心就会下载失败。后来从知乎上看到这个神器，<del>用了<em>金坷垃</em>，</del>速度<strong>一千八</strong>。</p>
<h1 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h1><p>首先到<a target="_blank" rel="noopener" href="https://github.com/tatsuhiro-t/aria2/releases">GitHub</a>下载对应系统的安装文件进行安装；如果在macOS下也可以通过<code>homebrew</code>安装：</p>
<pre><code>brew install aria2
</code></pre><h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p>先新建一个配置文件叫<code>aria2.conf</code>：</p>
<pre><code>mkdir ~/.aria2
vi ~/.aria2/aria2.conf
</code></pre><p>放在这个目录下的主要原因是可以在启动时不再指定其配置文件的位置。然后编辑它：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Basic Options</span></span><br><span class="line"><span class="attr">dir</span>=/Users/<span class="variable">$USER</span>/Downloads</span><br><span class="line"><span class="attr">input-file</span>=/Users/<span class="variable">$USER</span>/.aria2/session.dat</span><br><span class="line"><span class="attr">log</span>=/Users/<span class="variable">$USER</span>/.aria2/aria2.log</span><br><span class="line"><span class="attr">max-concurrent-downloads</span>=<span class="number">15</span></span><br><span class="line"><span class="attr">max-connection-per-server</span>=<span class="number">15</span></span><br><span class="line"><span class="attr">check-integrity</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">continue</span>=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BitTorrent/Metalink Options</span></span><br><span class="line"><span class="attr">bt-enable-lpd</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">bt-max-open-files</span>=<span class="number">16</span></span><br><span class="line"><span class="attr">bt-max-peers</span>=<span class="number">8</span></span><br><span class="line"><span class="attr">dht-file-path</span>=/opt/var/aria2/dht.dat</span><br><span class="line"><span class="attr">dht-file-path6</span>=/opt/var/aria2/dht6.dat</span><br><span class="line"><span class="attr">dht-listen-port</span>=<span class="number">6801</span></span><br><span class="line"><span class="comment">#enable-dht6=true</span></span><br><span class="line"><span class="attr">listen-port</span>=<span class="number">6801</span></span><br><span class="line"><span class="attr">max-overall-upload-limit</span>=<span class="number">0</span>K</span><br><span class="line"><span class="attr">seed-ratio</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RPC Options</span></span><br><span class="line"><span class="attr">enable-rpc</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">rpc-allow-origin-all</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">rpc-listen-all</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">rpc-listen-port</span>=<span class="number">6800</span></span><br><span class="line"><span class="comment">#rpc-secret=123456</span></span><br><span class="line"><span class="comment">#rpc-secure=true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Advanced Options</span></span><br><span class="line"><span class="attr">daemon</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">disable-ipv6</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment">#enable-mmap=true</span></span><br><span class="line"><span class="attr">force-save</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">file-allocation</span>=none</span><br><span class="line"><span class="attr">log-level</span>=warn</span><br><span class="line"><span class="attr">max-overall-download-limit</span>=<span class="number">0</span>K</span><br><span class="line"><span class="attr">save-session</span>=/Users/<span class="variable">$USER</span>/.aria2/session.dat</span><br><span class="line"><span class="attr">always-resume</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">split</span>=<span class="number">10</span></span><br><span class="line"><span class="attr">min-split-size</span>=<span class="number">10</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pan.baidu.com</span></span><br><span class="line"><span class="attr">user-agent</span>=netdisk<span class="comment">;5.2.6;PC;PC-Windows;6.2.9200;WindowsBaiduYunGuanJia</span></span><br><span class="line"><span class="attr">referer</span>=http://pan.baidu.com/disk/home</span><br></pre></td></tr></table></figure>
<p>配置文件中所有<code>$USER</code>要改成自己的用户名，<code>dir</code>参数设置的是下载路径，也可以按自己的习惯更改；<code>input-file</code>、<code>save-session</code>参数是指定session（保存下载进度）的存储位置，如果没有那个文件可以手动创建：</p>
<pre><code>touch session.dat
</code></pre><p><code>log</code>参数指定log路径，会自动生成。这时可以通过<code>aria2c</code>命令启动服务了。可以通过<code>ps aux | grep aria2c</code>命令检查是否启动成功。如果没有正常启动可以检查一下log。</p>
<h1 id="开机启动"><a href="#开机启动" class="headerlink" title="开机启动"></a>开机启动</h1><p>若要配置macOS开机启动，可以在<code>~/Library/LaunchAgents</code>下创建一个plist文件<code>homebrew.mxcl.aria2.plist</code>，内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">plist</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>homebrew.mxcl.aria2<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>RunAtLoad<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>KeepAlive<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Program<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/usr/local/opt/aria2/bin/aria2c<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="配置GUI"><a href="#配置GUI" class="headerlink" title="配置GUI"></a>配置GUI</h1><p>由于aria2是一个命令行工具，所以在没有其他辅助的情况下需要通过命令行来操作。具体使用方法请参阅<a target="_blank" rel="noopener" href="https://aria2.github.io/">aria2.github.io</a>。</p>
<p>为了更加便于使用，GitHub上的<a target="_blank" rel="noopener" href="https://github.com/ziahamza">ziahamza</a>开发了一个WebUI，可以通过网页界面来操作aria2：</p>
<p><img src="/img/arui.png" alt="WebUI">    </p>
<p>简单来说就是打开<a target="_blank" rel="noopener" href="http://ziahamza.github.io/webui-aria2/">http://ziahamza.github.io/webui-aria2/</a>就能使用了。也可以将<a target="_blank" rel="noopener" href="https://github.com/ziahamza/webui-aria2/archive/master.zip">项目源码</a>下载下来放到本地或者放到自己的服务器上来用，比如<a target="_blank" rel="noopener" href="http://aria.shintaku.cc/">http://aria.shintaku.cc/</a>。</p>
<p>打开以后如果右上角出现：</p>
<p><img src="/img/arsuccess.png" alt="连接成功">    </p>
<p>就说明连接成功了，这时就可以直接输入下载链接下载了。</p>
<p>如果连接不成功请到<code>Setting</code>-<code>Connection Setting</code>检查端口是不是6800，并且确保6800端口没被别的服务占用：</p>
<p><img src="/img/arsetting.png" alt="连接设置">    </p>
<h1 id="百度网盘插件"><a href="#百度网盘插件" class="headerlink" title="百度网盘插件"></a>百度网盘插件</h1><p>百度网盘如果使用普通下载的话<del>可能得到的是一个临时的链接？</del>不能断点续传，所以需要一个叫<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/baiduexporter/mjaenbjdjmgolhoafkohbhhbaiedbkno">BaiduExporter</a>的Chrome插件像百度云的客户端一样获取地址。如果Chrome商店被墙了也可以到<a target="_blank" rel="noopener" href="https://github.com/acgotaku/BaiduExporter/blob/master/BaiduExporter.crx?raw=true">GitHub</a>上直接下载<code>crx</code>文件手动添加。</p>
<p>添加成功后再打开百度云会发现多了一个<code>导出下载</code>按钮：</p>
<p><img src="/img/arbaiduyun.png" alt="导出下载">    </p>
<p>打开<code>设置</code>，按照如下设置：</p>
<p><img src="/img/aryunsetting.png" alt="导出设置"></p>
<p>其中<code>User-agent</code>需要设置为<code>netdisk;5.2.7;PC;PC-Windows;6.2.9200;WindowsBaiduYunGuanJia</code>，<code>referer</code>设置为<code>http://pan.baidu.com/disk/home</code>，将aria2伪装成百度云管家来解除限速。</p>
<p>应用后选择百度云上的文件，通过<code>导出下载</code>-<code>ARIA2 RPC</code>：</p>
<p><img src="/img/ardownload.png" alt="下载成功"></p>
<p>这时再通过WebUI查看应当已经有新添加的任务以一千八的速度在下载了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-shadowsocks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/shadowsocks/" class="article-date">
  <time datetime="2015-11-11T15:33:33.000Z" itemprop="datePublished">2015-11-11</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a>►<a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">科学上网</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/ssbanner.png" rel="gallery_cl7hqgzd900339ih87xjvg3mz">
        <img src="/img/ssbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/shadowsocks/">VPS搭建ShadowSocks服务</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/shadowsocks/" data-id="cl7hqgzd900339ih87xjvg3mz" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/shadowsocks/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ShadowSocks/" rel="tag">ShadowSocks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VPS/" rel="tag">VPS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag">科学上网</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>由于校园网的资费坑得一逼，况且有流量限制，这种感觉甚是让人不爽。之前曾看到郑老湿和陈老湿在VPS搭上VPN免流量上网，后来又在开源课上受到<a target="_blank" rel="noopener" href="http://www.pufengdu.org/">杜老师</a>的启发，决定通过ShadowSocks代理后的IPv6教育网实现<strong>免流量上网</strong>。</p>
<p>ShadowSocks是一个安全的socks5代理，它通过客户端以指定的密码、加密方式和端口连接服务器，成功连接到服务器后，客户端在用户的电脑上构建一个本地socks5代理。使用时将流量分到本地socks5代理，客户端将自动加密并转发流量到服务器，服务器以同样的加密方式将流量回传给客户端，以此实现代理上网。</p>
<h1 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h1><h2 id="搭建服务"><a href="#搭建服务" class="headerlink" title="搭建服务"></a>搭建服务</h2><p>SSH登录到VPS服务器后要使用pip安装ShadowSocks，所以先装<code>pip</code>。</p>
<p>如果服务器是基于Red Hat的系统（CentOS等等），使用命令：</p>
<pre><code>yum install python-setuptools &amp;&amp; easy_install pip
</code></pre><p>如果是基于Debian的系统（Ubuntu等等），使用命令：</p>
<pre><code>apt-get install python-pip
</code></pre><p>之后通过pip安装ShadowSocks：</p>
<pre><code>pip install shadowsocks
</code></pre><p>安装完成后，在<code>/etc/</code>下新建一个叫<code>shadowsocks.json</code>的配置文件，内容如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;server&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;::&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;server_port&quot;</span> <span class="punctuation">:</span> <span class="number">8388</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;local_address&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;local_port&quot;</span> <span class="punctuation">:</span> <span class="number">1080</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;password&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;PASSWORD&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;timeout&quot;</span> <span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;method&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;rc4-md5&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>其中<code>&quot;server&quot;</code>一栏之所以填<code>&quot;::&quot;</code>是为了同时监听IPv4/v6两个端口，因为本文的需求中我们需要双栈连接，如果VPS没有IPv6功能或仅是为了搭梯子用，这里面填写一个IPv4的地址就可以了。<code>&quot;password&quot;</code>栏填写自己要设置的密码。至于<code>&quot;method&quot;</code>加密方式一栏，主流的有<code>rc4-md5</code>和<code>aes-256-cfb</code>等等，据说前者速度快，后者更安全，可以根据个人喜好自行权衡。</p>
<p>如果有多个用户需要使用而不想都使用一套端口和密码，可以如下写成多端口配置文件：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;server&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;::&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;local_address&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;local_port&quot;</span> <span class="punctuation">:</span> <span class="number">1080</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;port_password&quot;</span><span class="punctuation">:</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;8388&quot;</span><span class="punctuation">:</span><span class="string">&quot;PASSWORD0&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;8389&quot;</span><span class="punctuation">:</span><span class="string">&quot;PASSWORD1&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;8340&quot;</span><span class="punctuation">:</span><span class="string">&quot;PASSWORD2&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">   	<span class="attr">&quot;timeout&quot;</span> <span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;method&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;rc4-md5&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><p>保存配置文件后就可以通过以下命令启动和停止ShadowSocks服务了：</p>
<pre><code>ssserver -c /etc/shadowsocks.json --fast-open -d start
ssserver -d stop
</code></pre><p>如果发现开启服务后连接不上，可以<strong>停用防火墙</strong>试一下。</p>
<p>要是觉得以上命令太长难于记忆，可以在<code>~/.bashrc</code>里加入alias：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ssstart=<span class="string">&#x27;ssserver -c /etc/shadowsocks.json --fast-open -d start&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ssstop=<span class="string">&#x27;ssserver -d stop&#x27;</span></span><br></pre></td></tr></table></figure>
<p>保存后记得使用<code>source ~/.bashrc</code>命令应用配置，这样就可以每次通过<code>ssstart</code>和<code>ssstop</code>命令启动或停止服务了。</p>
<p>在CentOS7以后可以用<strong>systemd</strong>的方式启动Shadowsocks，先新建启动脚本<code>/etc/systemd/system/shadowsocks.service</code>：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Shadowsocks</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">TimeoutStartSec</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">ExecStart</span>=/usr/bin/ssserver -c /etc/shadowsocks.json</span><br><span class="line"><span class="attr">ExecStop</span>=/usr/bin/ssserver -d stop</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>
<p>然后就可以通过<code>systemctl start shadowsocks</code>启动了，并通过<code>systemctl enable shadowsocks</code>设置开机自启。</p>
<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><p>现在我们要祭出TCP加速神器——<strong>锐速</strong>了。</p>
<p><del>锐速是一款免费的TCP底层加速软件</del>，可以便捷地完成服务器网络的优化，配合ShadowSocks效果甚好。</p>
<p>首先要去<a target="_blank" rel="noopener" href="http://www.serverspeeder.com/">锐速官网</a>注册。然后在服务器上通过以下命令下载安装：</p>
<pre><code>wget http://my.serverspeeder.com/d/ls/serverSpeederInstaller.tar.gz
tar xzvf serverSpeederInstaller.tar.gz
bash serverSpeederInstaller.sh
</code></pre><p>安装过程中需要填写刚注册的账号密码等，一路回车安装结束。</p>
<p>之后还要编辑配置文件<code>/serverspeeder/etc/config</code>，修改以下参数:</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">advinacc</span>=<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="attr">maxmode</span>=<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="attr">rsc</span>=<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="attr">gso</span>=<span class="string">&quot;1&quot;</span></span><br></pre></td></tr></table></figure>
<p>保存后重启服务就可以了：</p>
<pre><code>service serverSpeeder restart
</code></pre><p>目前锐速不再开放使用，想用的同学可以到<a target="_blank" rel="noopener" href="https://www.91yun.org/en/serverspeeder91yun">91云</a>寻找新大陆。</p>
<h1 id="本地客户端"><a href="#本地客户端" class="headerlink" title="本地客户端"></a>本地客户端</h1><p>首先确定你可以获取到IPv6地址，最简便的方法就是打开<a target="_blank" rel="noopener" href="http://bt.neu.edu.cn/">六维空间</a>测试一下，如果可以打开就说明没问题。</p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-windows/releases">Shadowsocks for Windows</a></p>
</blockquote>
<h2 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-iOS/releases">ShadowsocksX</a></p>
</blockquote>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-qt5/wiki/%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97#linux">Shadowsocks-Qt5</a></p>
<p>也可以按照类似服务端的命令行方式进行启动，将<code>ssserver</code>改成<code>sslocal</code>即可。</p>
</blockquote>
<h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-android/releases">Shadowsocks for Android</a></p>
<p>如果能上Google Play也可以从<a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=com.github.shadowsocks">应用商店</a>直接安装。</p>
</blockquote>
<h2 id="OpenWrt"><a href="#OpenWrt" class="headerlink" title="OpenWrt"></a>OpenWrt</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://sourceforge.net/projects/openwrt-dist/files/shadowsocks-libev/">shadowsocks-libev</a></p>
</blockquote>
<p>各种平台上的服务器配置按照之前服务器端的设置填写即可，但是server地址记得<strong>填写IPv6的</strong>，然后设成全局代理。</p>
<p>这时Google一下自己的<a target="_blank" rel="noopener" href="https://www.google.com/#newwindow=1&amp;safe=active&amp;q=ip">IP</a>，如果地址确实是VPS的地址，就可以开始愉快的上网了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-digitalocean" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/digitalocean/" class="article-date">
  <time datetime="2015-11-01T15:33:33.000Z" itemprop="datePublished">2015-11-01</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a>►<a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/">网站部署</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/dobanner.png" rel="gallery_cl7hqgzct000r9ih80qif653p">
        <img src="/img/dobanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/digitalocean/">Digital Ocean开通VPS</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/digitalocean/" data-id="cl7hqgzct000r9ih80qif653p" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/digitalocean/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VPS/" rel="tag">VPS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>目前使用体验较好的VPS服务商大概有<a target="_blank" rel="noopener" href="https://www.linode.com/">Linode</a>、<a target="_blank" rel="noopener" href="https://www.conoha.jp/en/">ConoHa</a>、<a target="_blank" rel="noopener" href="https://www.digitalocean.com/">Digital Ocean</a>、<a target="_blank" rel="noopener" href="https://www.vultr.com/">Vultr</a>等等，由于GitHub的<a target="_blank" rel="noopener" href="https://education.github.com/pack">Student Developer Pack</a>有DO家的50美刀优惠，<del>但到了三个月后才申请下来，由于注册时已经输过优惠码所以就坑了，</del>于是本文使用的是DO的服务。</p>
<h1 id="注册DO帐号"><a href="#注册DO帐号" class="headerlink" title="注册DO帐号"></a>注册DO帐号</h1><p>通过<a target="_blank" rel="noopener" href="https://www.digitalocean.com/?refcode=bbb0bdba1c4e">邀请地址</a>注册的新账户将获得10美刀的优惠。</p>
<p>按照步骤填完个人信息后，需要绑定支付方式并往新账户里充5美元来激活DO账户。个人建议先绑定PayPal账户，至于PayPal如果没有信用卡的话，绑定储蓄卡也是可以的，个人亲测学校办的交行卡可用。</p>
<p>激活账户后，如果你有GitHub教育优惠就使用它给的优惠码，如果没有可以搜一个最近的10美元或20美元优惠码，注意这样的优惠码<strong>只能输一次</strong>。</p>
<p><img src="/img/sspromo.png" alt="输入优惠码"></p>
<p>账户余额基本就有15美元了，这足够使用最便宜的套餐3个月了。</p>
<h1 id="新建服务器"><a href="#新建服务器" class="headerlink" title="新建服务器"></a>新建服务器</h1><p>首先要给服务器取一个Hostname，按个人喜好随意命名。</p>
<p>然后选择套餐，我选择的是最便宜的$5套餐，包含<strong>512M的内存、20G的SSD和1000G流量</strong>每个月。</p>
<p><img src="/img/ssch1.png" alt="选择配置"></p>
<p>数据中心任意选择，考虑到国际光缆的走向，建议选择位于美国西海岸或者亚太地区的，我选择的是旧金山机房。</p>
<p>选择镜像的时候选一个自己熟悉的系统就可以了，也可以选择带一键安装应用的，按需选择即可。</p>
<p><img src="/img/ssch2.png" alt="选择配置"></p>
<p>附加选项里<strong>记得选上IPv6</strong>，因为在本文的需求中这是必不可少的。</p>
<p>SSH公钥可以现在添加，也可以以后再添加。之后点创建就可以等着创建完成了。<del>DO宣传最少只用55秒就可以创建完成，但是我好像用了几分钟的样子？</del></p>
<p>创建成功后，就会进入到这个VPS的管理界面，从设置中可以看到你的公网地址。同时DO会发送首次登录的密码到你的邮箱中，请注意查收。姑且将这台服务器的地址记作<code>IP</code>，然后就可以在DO提供的网页版控制台或本地终端SSH登录了：</p>
<pre><code>ssh root@remote_host
</code></pre><p>成功登录后，首先要求更改root密码。如果希望以后本机登录不再输入密码，可以将本地的公钥上传到服务器端：</p>
<pre><code>cat ~/.ssh/id_rsa.pub | ssh root@remote_host &#39;cat &gt;&gt; .ssh/authorized_keys&#39;
</code></pre><p>如果本地<code>~/.ssh</code>目录下没有<code>id_rsa</code>这样的文件，可以使用<code>ssh-keygen</code>命令在该目录下生成。这样以后每次ssh连接时就不用再输密码了，然后就可以随意折腾了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-qt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/qt/" class="article-date">
  <time datetime="2015-10-18T13:11:11.000Z" itemprop="datePublished">2015-10-18</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a>►<a class="article-category-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/Windows/">Windows</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/qtbanner.png" rel="gallery_cl7hqgzd6002n9ih8hzt4c9iy">
        <img src="/img/qtbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/qt/">Qt5.5程序的打包与发布</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/qt/" data-id="cl7hqgzd6002n9ih8hzt4c9iy" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/qt/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Qt/" rel="tag">Qt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>因为要做C＋＋软件实习的大作业，所以选择了易于上手的Qt作为图形化界面程序开发框架，IDE自然就是Qt Creator了。但是Qt程序的打包发布却是不接地气，因为依赖实在是太多了。有的时候加好依赖后在自己的开发环境上可以运行，但脱离开发环境却依旧报</p>
<blockquote>
<p>This application failed to start because it could not find or load the Qt platform plugin “windows”.</p>
</blockquote>
<p><img src="/img/qtwindows.png" alt="无法加载qwindows"></p>
<p>甚至</p>
<p><img src="/img/qtruntime.png" alt="Runtime"><br>于是现在亟待解决的问题就是如何能够找到所有所需依赖并能够将其打包引用。</p>
<h1 id="查找依赖工具"><a href="#查找依赖工具" class="headerlink" title="查找依赖工具"></a>查找依赖工具</h1><p>通过阅读<a target="_blank" rel="noopener" href="http://doc.qt.io/qt-5/windows-deployment.html#application-dependencies">官方文档</a>发现，Qt里面内置了一个dll依赖性检查工具——<code>windeploy.exe</code>。这个程序应当在<code>~/Qt/Qt5.5.0/5.5/mingw492_32/bin/</code>下，通过命令提示符执行它可以得到使用方法：</p>
<pre><code>C:\Users\Shintaku&gt;C:\Qt\Qt5.5.0\5.5\mingw492_32\bin\windeployqt.exe
Please specify the binary or folder.

Usage: C:\Qt\Qt5.5.0\5.5\mingw492_32\bin\windeployqt.exe [options] [files]
Qt Deploy Tool 5.5.0

The simplest way to use windeployqt is to add the bin directory of your Qt installation 
(e.g. &lt;QT_DIR\bin&gt;) to the PATH variable and then run:
  windeployqt &lt;path-to-app-binary&gt;
If ICU, ANGLE, etc. are not in the bin directory, they need to be in the PATH variable. 
If your application uses Qt Quick, run:
  windeployqt --qmldir &lt;path-to-app-qml-files&gt; &lt;path-to-app-binary&gt;

Options:
  -?, -h, --help             Displays this help.
  -v, --version              Displays version information.
  --dir &lt;directory&gt;          Use directory instead of binary directory.
  --libdir &lt;path&gt;            Copy libraries to path.
  --debug                    Assume debug binaries.
  --release                  Assume release binaries.
  --release-with-debug-info  Assume release binaries with debug information.
  --force                    Force updating files.
  --dry-run                  Simulation mode. Behave normally, but do not
                             copy/update any files.
  --no-plugins               Skip plugin deployment.
  --no-libraries             Skip library deployment.
  --qmldir &lt;directory&gt;       Scan for QML-imports starting from directory.
  --no-quick-import          Skip deployment of Qt Quick imports.
  --no-translations          Skip deployment of translations.
  --no-system-d3d-compiler   Skip deployment of the system D3D compiler.
  --compiler-runtime         Deploy compiler runtime (Desktop only).
  --no-compiler-runtime      Do not deploy compiler runtime (Desktop only).
  --webkit2                  Deployment of WebKit2 (web process).
  --no-webkit2               Skip deployment of WebKit2.
  --json                     Print to stdout in JSON format.
  --angle                    Force deployment of ANGLE.
  --no-angle                 Disable deployment of ANGLE.
  --list &lt;option&gt;            Print only the names of the files copied.
                             Available options:
                              source:   absolute path of the source files
                              target:   absolute path of the target files
                              relative: paths of the target files, relative
                                        to the target directory
                              mapping:  outputs the source and the relative
                                        target, suitable for use within an
                                        Appx mapping file
  --verbose &lt;level&gt;          Verbose level.

Qt libraries can be added by passing their name (-xml) or removed 
by passing the name prepended by --no- (--no-xml). Available libraries:
bluetooth clucene concurrent core declarative designer designercomponents
enginio gui qthelp multimedia multimediawidgets multimediaquick network nfc
opengl positioning printsupport qml qmltooling quick quickparticles quickwidgets

script scripttools sensors serialport sql svg test webkit webkitwidgets
websockets widgets winextras xml xmlpatterns webenginecore webengine
webenginewidgets 3dcore 3drenderer 3dquick 3dquickrenderer 3dinput geoservices

Arguments:
  [files]                    Binaries or directory containing the binary.
</code></pre><p>发现当<code>windeploy</code>有一个参数为<code>二进制文件</code>时，会在其所在目录下生成该文件所依赖的所有文件。</p>
<h1 id="提取依赖文件"><a href="#提取依赖文件" class="headerlink" title="提取依赖文件"></a>提取依赖文件</h1><p>于是我们可以在任意目录下新建一个文件夹，然后将Qt编译生成的<code>可执行文件</code>复制到新文件夹下。<br>接下来在命令提示符里执行<code>windeploy yourProgram.exe</code>便可以将其所需依赖加入到新文件夹中了。</p>
<pre><code>&gt; C:\Qt\Qt5.5.0\5.5\mingw492_32\bin\windeployqt.exe Library.exe
Library.exe 32 bit, release executable
Adding Qt5Svg for qsvgicon.dll
Direct dependencies: Qt5Core Qt5Gui Qt5Sql Qt5Widgets
All dependencies   : Qt5Core Qt5Gui Qt5Sql Qt5Widgets
To be deployed     : Qt5Core Qt5Gui Qt5Sql Qt5Svg Qt5Widgets
Updating Qt5Core.dll.
Updating Qt5Gui.dll.
Updating Qt5Sql.dll.
Updating Qt5Svg.dll.
Updating Qt5Widgets.dll.
Updating libGLESV2.dll.
Updating libEGL.dll.
Updating D3Dcompiler_47.dll.
Creating directory iconengines.
Updating qsvgicon.dll.
Creating directory imageformats.
Updating qdds.dll.
Updating qgif.dll.
Updating qicns.dll.
Updating qico.dll.
Updating qjp2.dll.
Updating qjpeg.dll.
Updating qmng.dll.
Updating qsvg.dll.
Updating qtga.dll.
Updating qtiff.dll.
Updating qwbmp.dll.
Updating qwebp.dll.
Creating directory platforms.
Updating qwindows.dll.
Creating directory sqldrivers.
Updating qsqlite.dll.
Updating qsqlmysql.dll.
Updating qsqlodbc.dll.
Updating qsqlpsql.dll.
Creating C:\Users\Shintaku\Desktop\release\translations...
Creating qt_ca.qm...
Creating qt_cs.qm...
Creating qt_de.qm...
Creating qt_fi.qm...
Creating qt_fr.qm...
Creating qt_hu.qm...
Creating qt_it.qm...
Creating qt_ja.qm...
Creating qt_ko.qm...
Creating qt_lv.qm...
Creating qt_ru.qm...
Creating qt_sk.qm...
Creating qt_uk.qm...
</code></pre><p>强烈建议在此文件夹下运行一下程序试试，因为这个工具并不一定能将所有必需的依赖加进来，这时运行极有可能还会报<br><img src="/img/qterror.png" alt="系统错误"><br>如果这样，请移步<code>~/Qt/Qt5.5.0/5.5/mingw492_32/bin</code>下找到缺少的<code>.dll</code>文件将它们移到新文件夹下。经过这步检查，在开发环境下应该可以正常运行可执行文件了。</p>
<h1 id="修改引用路径"><a href="#修改引用路径" class="headerlink" title="修改引用路径"></a>修改引用路径</h1><p>这时请把这个文件夹拷贝到其他运行环境上测试程序是否能成功运行：如果可以成功运行，那么请跳过这一步；如果不能成功运行，而且依旧报</p>
<blockquote>
<p>This application failed to start because it could not find or load the Qt platform plugin “windows”.</p>
</blockquote>
<p>则说明程序没有成功引用到动态链接库，这时应当修改源代码。<br>找到工程中的<code>main.cpp</code>文件，在主函数开头中加入一句<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QApplication::<span class="built_in">addLibraryPath</span>(<span class="string">&quot;.&quot;</span>);</span><br></pre></td></tr></table></figure><br>重新编译并替换新文件夹中的.exe文件，再放到其他运行环境上就应该可以成功引用到链接库了。</p>
<h1 id="打包程序发布"><a href="#打包程序发布" class="headerlink" title="打包程序发布"></a>打包程序发布</h1><p>这时我们就可以打包程序了。我使用的是一款叫做<a target="_blank" rel="noopener" href="http://enigmaprotector.com/en/aboutvb.html">Enigma Virtual Box</a>的封装工具，这个软件的名字和当年图灵破译的英格玛机一样。<br>软件装好后运行，从主界面选择输入目标文件和输出文件的路径，然后在下面<code>Files</code>里添加所有需要的链接库<br><img src="/img/qt3.png" alt="添加文件"><br>然后有一个<code>Files Options</code>里可选是否压缩文件，压缩后会比较小，然后点<code>Process</code>就行了<br><img src="/img/qt4.png" alt="压缩文件"><br>不久后会在选择的输出路径中生成最终打包好的程序，大功告成。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-goagent" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/goagent/" class="article-date">
  <time datetime="2015-01-08T15:33:33.000Z" itemprop="datePublished">2015-01-08</time>
</a>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a>►<a class="article-category-link" href="/categories/%E7%BD%91%E7%BB%9C/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">科学上网</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/gabanner.png" rel="gallery_cl7hqgzcw00159ih8c89pee4y">
        <img src="/img/gabanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/goagent/">GoAgent科学上网攻略</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/goagent/" data-id="cl7hqgzcw00159ih8c89pee4y" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/goagent/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GoAgent/" rel="tag">GoAgent</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag">科学上网</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p><strong><em>目前该项目已停止维护，并被开发者删除。有兴趣的童鞋请参考我fork下来的<a target="_blank" rel="noopener" href="https://github.com/liangzhenduo0608/goagent">3.2.3版本</a>。</em></strong></p>
<blockquote>
<p>翻出长城，我有思想准备。是要触及一些人的利益，是会触及一些人的利益，是会有不同的观点和看法的，而且，已经形成防火长城的这些机构社会联系蛮广泛的，是有舆论能力的。我们敢于翻墙，也就是说呀，像古人讲的，<strong>“敢同恶鬼争高下，不向霸王让寸分”</strong>，就是要有这种精神。在此呢，你比如说，也有不少人给Google泼脏水，包括给Twitter、给Facebook泼脏水。甚至，说到一〇四师从广场上路过，怎么开59式坦克，一派胡言！我感到非常气愤，啊，一派胡言。</p>
<p>嗯，方滨兴，啊，本来是，这个工程院，这个很早以前就认可的院士，在北邮期间，当时当校长就当得很成功。清华著名教授唐泽圣，啊，那是他的老师，啊，对他非常欣赏。结果，有的这些头衔，就是怕说，担心会不会有人给人家造谣，说他通过当校长还想出点名，把他的几个职位一朝就全辞掉了，啊那是前年的事儿了，就全不干了。现在就几乎啊，嗯，在工程院，就是与病魔做一做斗争，啊，我对他做出的这种牺牲我都很感动的，啊。</p>
</blockquote>
<p>具体GoAgent怎么用呢，请参照以下步骤：</p>
<h1 id="创建GAE应用"><a href="#创建GAE应用" class="headerlink" title="创建GAE应用"></a>创建GAE应用</h1><h2 id="登录GAE"><a href="#登录GAE" class="headerlink" title="登录GAE"></a>登录GAE</h2><p>GoAgent是使用跨平台语言Python开发、基于GPL自由软件协议的代理软件。它利用<code>Google App Engine (GAE)</code>的服务器充当代理。因此要使用GoAgent就需要一个Google帐户，前往<a target="_blank" rel="noopener" href="http://appengine.google.com">GAE</a>登录（有Google账号或者关联Google的账号直接登录即可，比如我的Google帐号就是hotmail的邮箱，深藏功与名）。</p>
<p>其实这一步就是需要翻墙的，有些人到这一步就因为无法翻墙登陆不了GAE，从而无法使用GoAgent，陷入了死循环。</p>
<h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>成功登录后就可以点击上图中的<code>Create Application</code>创建新应用。每个账户可以创建至多25个应用（现在网上说10个的都是几年前的版本了）。</p>
<p>首次创建还要验证一下手机号，格式为<code>+86XXXXXXXXXXX</code>，不久会收到一条验证短信，把验证码填进去就可以激活GAE账号了。</p>
<p>接下来就可以创建应用了，填入二级域名的Appid和应用名称。Appid要求为6～30个字符，可以包含小写字母、数字和<code>-</code>，必须以字母开头，不得以<code>-</code>结尾。<code>[your_appid].appspot.com</code>就是你的应用地址了。Appid一定要牢牢记住。</p>
<p><img src="/img/gacreate.png" alt="创建新应用"></p>
<p>每一个应用提供1GB的流量，月流量是60GB（传出带宽是1GB/天，传入带宽1GB/天），虽然有如此的限制，但只是上网页用起来毫无压力，从来没有用超过呢。如果觉得一个应用的每天1G不够用，可以多创建几个。</p>
<h1 id="本地配置"><a href="#本地配置" class="headerlink" title="本地配置"></a>本地配置</h1><h2 id="下载GoAgent客户端"><a href="#下载GoAgent客户端" class="headerlink" title="下载GoAgent客户端"></a>下载GoAgent客户端</h2><p>GoAgent的项目主页已经从<a target="_blank" rel="noopener" href="https://code.google.com/p/goagent/">Google Code</a>转移到<a target="_blank" rel="noopener" href="https://github.com/goagent/goagent">GitHub</a>了，但是GitHub上的项目也被移除了，所以还想尝试的童鞋请到我fork的分支上下载<a target="_blank" rel="noopener" href="https://github.com/liangzhenduo0608/goagent">GoAgent 3.2.3</a>。</p>
<p><img src="/img/gagithub.png" alt="GitHub上的GoAgent项目"></p>
<p>可以把这个项目clone到本地：</p>
<pre><code>git clone https://github.com/liangzhenduo0608/goagent
</code></pre><p>或者Download ZIP并解压出来。</p>
<h2 id="上传Python服务"><a href="#上传Python服务" class="headerlink" title="上传Python服务"></a>上传Python服务</h2><p>进到server目录下，Windows用户以管理员身份运行<code>uploader.bat</code>，Mac/Linux用户用Python运行<code>uploader.py</code>，按照提示依次填入Appid、Email地址和口令（如果app创建时开启了两步验证，口令需要填入两步验证设置的密码，但现在创建的app基本上都跳过设置两步验证了，所以填邮Google帐户密码就行了）。上传成功会出现如下界面：</p>
<pre><code>警告：建议先启动 goagent 客户端或者 VPN 然后再上传，如果您的 VPN 已经打开的话，请按回车键继续。

===============================================================
 GoAgent服务端部署程序, 开始上传 gae 应用文件夹
 Linux/Mac 用户, 请使用 python uploader.py 来上传应用
===============================================================

请输入您的appid, 多个appid请用|号隔开
注意：appid 请勿包含 ios/android/mobile 等字样，否则可能被某些网站识别成移动设备。
APPID: your_appid
Application: your_appid
Host: appengine.google.com
Rolling back the update.
Email: your_google_account
Password for your_google_account: 
Application: your_appid; version: 1
Host: appengine.google.com

Starting update of app: your_appid, version 1
Scanning files on local disk.
Cloning 1 static file.
Cloning 3 application files.
Compilation starting.
Compilation completed.
Starting deployment.
Checking if deployment succeeded.
Deployment successful.
Checking if updated app verion is serving.
Completed update of app: your_appid, version 1

上传成功，请不要忘记编辑proxy.ini把你的appid填进去，谢谢。按回车键退出程序。
</code></pre><p>验证是否成功也可以打开<code>https://[your_appid].appspot.com/_gh/</code>查看状态，像下面一样就说明成功了：</p>
<blockquote>
<p>GoAgent Python Server 3.2.0 works, deployed at 2015-01-08 23:33:33</p>
</blockquote>
<p>这里请注意一下，如果你用的是老版本的goagent比如2.x.x的域名后缀应为<code>*.appspot.com/2</code>，而新版本的3.x.x的域名后缀应为<code>*.appspot.com/_gh/</code>，因此之前用老版本而现在更新到新版本的用户需要重新上传。</p>
<h2 id="配置proxy-ini"><a href="#配置proxy-ini" class="headerlink" title="配置proxy.ini"></a>配置proxy.ini</h2><p>这一步做的就是上一步终端中最后一行说的，修改<code>/local/proxy.ini</code>中<code>gae</code>下的<code>appid</code>和<code>password</code>并保存：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[gae]</span></span><br><span class="line"><span class="attr">enable</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">appid</span> = your_appid</span><br><span class="line"><span class="attr">password</span> = your_password</span><br><span class="line"><span class="attr">path</span> = /_gh/</span><br><span class="line"><span class="attr">mode</span> = https</span><br><span class="line"><span class="attr">ipv6</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">sslversion</span> = TLSv1</span><br><span class="line"><span class="attr">window</span> = <span class="number">7</span></span><br><span class="line"><span class="attr">cachesock</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">headfirst</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">keepalive</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">obfuscate</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">validate</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">transport</span> = <span class="number">0</span></span><br><span class="line"><span class="attr">options</span> =</span><br><span class="line">regions =</span><br></pre></td></tr></table></figure>
<h1 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h1><h2 id="运行GoAgent"><a href="#运行GoAgent" class="headerlink" title="运行GoAgent"></a>运行GoAgent</h2><p>如果以上步骤都正确的话，Windows以管理员身份运行local下的goagent.exe了，Mac/Linux用户用Python运行proxy.py，应该会出现如下界面：</p>
<pre><code>------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.1 gevent/1.0 pyopenssl/0.13.1)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https (TLSv1)
GAE APPID          : your_appid
Pac Server         : http://192.168.1.101:8086/proxy.pac
Pac File           : file:///goagent-3.0/local/proxy.pac
------------------------------------------------------ 
</code></pre><p>如果没有出现其他警告或错误，就说明配置成功了。</p>
<h2 id="安装Chrome插件"><a href="#安装Chrome插件" class="headerlink" title="安装Chrome插件"></a>安装Chrome插件</h2><p>GoAgent可以设置全局代理，也可以设置浏览器代理。因此下面提供的是使用Chrome浏览器插件代理的方法。</p>
<p>从Chrome浏览器打开<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=cn-ZH">Proxy SwitchyOmega</a>并添加到浏览器。如果被墙了就到<a target="_blank" rel="noopener" href="https://github.com/FelisCatus/SwitchyOmega/releases">GitHub</a>下载<code>crx</code>文件手动添加。在其配置界面<code>Import/Export</code>里把<code>/local/SwitchyOptions.bak</code>导入进去：</p>
<p><img src="/img/gaimport.png" alt="导入配置"></p>
<p>可以从浏览器右上角小圈圈插件那切换各种模式：</p>
<ul>
<li>Direct是不通过代理直接连接</li>
<li>GoAgent是完全通过代理访问</li>
<li>Auto Switch是自动切换，根据设置判定哪些网站通过代理，哪些网站不通过代理。</li>
</ul>
<p>个人比较倾向使用自动切换模式，也比较省流量，也防止有些内地的网站因为代理而打不开。也可以在<code>Switch rules</code>里添加需要自动代理的网站。</p>
<h2 id="导入证书"><a href="#导入证书" class="headerlink" title="导入证书"></a>导入证书</h2><p>打开chrome设置-管理证书-受信任的根证书颁发机构，将<code>/local/CA.crt</code>导入到进去：</p>
<p><img src="/img/gacert.png" alt="导入证书"></p>
<p>至此，以后每次需要代理的时候只要运行<code>goagent.exe</code>或<code>proxy.py</code>就行了，此时你就可以通过Google公司加州山景城的服务器畅游墙外的世界了。</p>
<blockquote>
<p>这个大家啊，如果，对翻墙有什么想法，有什么看法，尽可以提。我觉得，我相信，广大记者朋友，是客观的。这个也欢迎大家，有机会，到墙外去，墙外人非常热心，而且这些年的这个发展，这个大家团结一致、同心同德，已经取得了很大的进步。我相信，我们这些这个记者朋友们，你们对今天翻墙，放出干货的报道，会是客观的，准确的。好，谢谢大家。</p>
</blockquote>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
<a href="/posts/hello-world/" class="article-date">
  <time datetime="1970-01-01T00:00:00.000Z" itemprop="datePublished">1970-01-01</time>
</a>

    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <footer class="article-footer">
      <a data-url="https://www.shintaku.xyz/posts/hello-world/" data-id="cl7hqgzcw00189ih8eeqe3p4c" class="article-share-link">Share</a>
      
        <a href="https://www.shintaku.xyz/posts/hello-world/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>Welcome to <a target="_blank" rel="noopener" href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="http://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="http://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="http://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="http://hexo.io/docs/deployment.html">Deployment</a></p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="3913131990"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>



  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/4/">« Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>

</section>
          
            <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">QR code</h3>
  <div class="widget widget-background1">
    <div align="center">
      <img id="qrcode">
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/awesome-qr.js"></script>
<script type="text/javascript">
var img = new Image;

img.src = "/images/icon.png";

setTimeout(function() {
    new AwesomeQRCode().create({
        text: window.location.href,
        size: 160,
        margin: 4,
        colorDark: "#000000",
        colorLight: "#ffffff",
        backgroundImage: img,
        backgroundDimming: 'rgba(0,0,0,0)',
        logoImage: undefined,
        logoScale: 0.2,
        logoMargin: 6,
        logoCornerRadius: 8,
        whiteMargin: true,
        dotScale: 0.4,
        autoColor: true,
        binarize: false,
        binarizeThreshold: 128,
        callback: function(dataURI){},
        bindElement: 'qrcode'
    });
}, 1000);
</script>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACG/">ACG</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACG/Minecraft/">Minecraft</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACG/%E8%89%A6%E9%9A%8A%E3%81%93%E3%82%8C%E3%81%8F%E3%81%97%E3%82%87%E3%82%93/">艦隊これくしょん</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a><span class="category-list-count">20</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/Windows/">Windows</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/macOS/">macOS</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E6%A0%91%E8%8E%93%E6%B4%BE/">树莓派</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/%EF%BC%8Anix/">＊nix</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%8B%E5%B8%90/">手帐</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%8B%E5%B8%90/%E5%AE%9E%E4%B9%A0/">实习</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%8B%E5%B8%90/%E8%AF%BE%E7%A8%8B/">课程</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%AE%BA%E6%96%87/">论文</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">网络</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">科学上网</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/">网站部署</a><span class="category-list-count">8</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/posts/openwrt-onu/">
              
                <i class="fa-paperclip"></i> 
              
            OpenWrt访问桥接光猫</a>
          </li>
        
          <li>
            <a class="text" href="/posts/n1-openwrt/">
              
                <i class="fa-paperclip"></i> 
              
            N1盒子刷入OpenWrt做主路由</a>
          </li>
        
          <li>
            <a class="text" href="/posts/docker-openwrt/">
              
                <i class="fa-paperclip"></i> 
              
            N1盒子Docker安装OpenWrt旁路由</a>
          </li>
        
          <li>
            <a class="text" href="/posts/tm-nas/">
              
                <i class="fa-paperclip"></i> 
              
            Time Machine通过Samba备份到NAS</a>
          </li>
        
          <li>
            <a class="text" href="/posts/shadowsocks-v2ray/">
              
                <i class="fa-paperclip"></i> 
              
            ShadowSocks启用v2ray-plugin</a>
          </li>
        
          <li>
            <a class="text" href="/posts/hexo-mathjax/">
              
                <i class="fa-paperclip"></i> 
              
            Hexo博客使用MathJax公式</a>
          </li>
        
          <li>
            <a class="text" href="/posts/ttl/">
              
                <i class="fa-paperclip"></i> 
              
            路由器TTL刷机救砖</a>
          </li>
        
          <li>
            <a class="text" href="/posts/mac-tftp/">
              
                <i class="fa-paperclip"></i> 
              
            macOS启用TFTP服务</a>
          </li>
        
          <li>
            <a class="text" href="/posts/l2tp/">
              
                <i class="fa-paperclip"></i> 
              
            搭建L2TP/IPSec VPN</a>
          </li>
        
          <li>
            <a class="text" href="/posts/certbot/">
              
                <i class="fa-paperclip"></i> 
              
            Let&#39;s Encrypt SSL证书配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <!--%- tagcloud({'amount': '1024', 'orderby': 'name', 'order': '1'}) %-->
      <a href="/tags/VPS/" style="font-size: 22.15px; color: #d8ebff">VPS</a> <a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 20.31px; color: #b1d8ff">科学上网</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 23.08px; color: #ebf5ff">服务器</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 17.54px; color: #76baff">代理</a> <a href="/tags/Linux/" style="font-size: 24px; color: #fff">Linux</a> <a href="/tags/ShadowSocks/" style="font-size: 16.62px; color: #62b0ff">ShadowSocks</a> <a href="/tags/OpenWrt/" style="font-size: 21.23px; color: #c4e1ff">OpenWrt</a> <a href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/" style="font-size: 19.38px; color: #9dceff">路由器</a> <a href="/tags/IPv6/" style="font-size: 12.92px; color: #1489ff">IPv6</a> <a href="/tags/Android/" style="font-size: 12.92px; color: #1489ff">Android</a> <a href="/tags/%E5%88%B7%E6%9C%BA/" style="font-size: 12px; color: #007fff">刷机</a> <a href="/tags/macOS/" style="font-size: 18.46px; color: #89c4ff">macOS</a> <a href="/tags/Minecraft/" style="font-size: 12.92px; color: #1489ff">Minecraft</a> <a href="/tags/%E4%B8%8B%E8%BD%BD/" style="font-size: 12px; color: #007fff">下载</a> <a href="/tags/Unix/" style="font-size: 13.85px; color: #2793ff">Unix</a> <a href="/tags/SSL/" style="font-size: 12.92px; color: #1489ff">SSL</a> <a href="/tags/Nginx/" style="font-size: 15.69px; color: #4ea6ff">Nginx</a> <a href="/tags/LEMP/" style="font-size: 12.92px; color: #1489ff">LEMP</a> <a href="/tags/MySQL/" style="font-size: 12.92px; color: #1489ff">MySQL</a> <a href="/tags/PHP/" style="font-size: 12.92px; color: #1489ff">PHP</a> <a href="/tags/ChinaDNS/" style="font-size: 12px; color: #007fff">ChinaDNS</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 14.77px; color: #3b9dff">机器学习</a> <a href="/tags/ssh/" style="font-size: 17.54px; color: #76baff">ssh</a> <a href="/tags/Docker/" style="font-size: 12px; color: #007fff">Docker</a> <a href="/tags/N1%E7%9B%92%E5%AD%90/" style="font-size: 13.85px; color: #2793ff">N1盒子</a> <a href="/tags/GFWlist/" style="font-size: 12px; color: #007fff">GFWlist</a> <a href="/tags/GoAgent/" style="font-size: 12px; color: #007fff">GoAgent</a> <a href="/tags/Git/" style="font-size: 12px; color: #007fff">Git</a> <a href="/tags/JavaScript/" style="font-size: 12px; color: #007fff">JavaScript</a> <a href="/tags/Node-js/" style="font-size: 12px; color: #007fff">Node.js</a> <a href="/tags/%E8%88%B0%E9%98%9FCollection/" style="font-size: 12.92px; color: #1489ff">舰队Collection</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 13.85px; color: #2793ff">游戏</a> <a href="/tags/VPN/" style="font-size: 12.92px; color: #1489ff">VPN</a> <a href="/tags/PandoraBox/" style="font-size: 12px; color: #007fff">PandoraBox</a> <a href="/tags/Qt/" style="font-size: 12px; color: #007fff">Qt</a> <a href="/tags/Windows/" style="font-size: 12px; color: #007fff">Windows</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12px; color: #007fff">树莓派</a> <a href="/tags/Python/" style="font-size: 12px; color: #007fff">Python</a> <a href="/tags/V2Ray/" style="font-size: 12px; color: #007fff">V2Ray</a> <a href="/tags/shell/" style="font-size: 12.92px; color: #1489ff">shell</a> <a href="/tags/SoftEther/" style="font-size: 12px; color: #007fff">SoftEther</a> <a href="/tags/OMV/" style="font-size: 12px; color: #007fff">OMV</a> <a href="/tags/NAS/" style="font-size: 12px; color: #007fff">NAS</a> <a href="/tags/Verilog/" style="font-size: 12px; color: #007fff">Verilog</a>
    </div>
  </div>

  
    <div class="widget-wrap">
    <!--h3 class="widget-title">Ad</h3>
    <div class="widget widget-background1" align="center"-->
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<!-- sidebar -->
		<ins class="adsbygoogle"
     		 style="display:block"
     		 data-ad-client="ca-pub-9920928489161252"
     		 data-ad-slot="8654446491"
     		 data-ad-format="auto"
     		 data-full-width-responsive="true"></ins>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
    <!--/div-->
</div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget widget-background1">
      	<ul>
		    <li>
		    	<a href="https://github.com/liangzhenduo0608" target="_blank" title="github.com"><i class="fa-github"></i> GitHub </a>
		    </li>

	        <li>
	        	<a href="https://liangzhenduo0608.github.io" target="_blank" title="liangzhenduo0608.github.io"><i class="fa-github-square"></i> Mirror Site </a>
	        </li>

			<li>
	        	<a href="https://blog.hackroid.com/" target="_blank" title="blog.hackroid.com"><i class="fa-h-square"></i> Hackroid </a>
	        </li>

            <li>
	        	<a href="https://leiblog.wang/" target="_blank" title="leiblog.wang"><i class="fa-h-square"></i> Lei Blog </a>
	        </li>


            <!--li>
            	<a href="https://blog.mahoucoder.com/" target="_blank" title="blog.mahoucoder.com"><i class="fa-h-square"></i> 魔法コーダ </a>
            </li>

		    <li>
		    	<a href="http://xzjqx.me/" target="_blank" title="xzjqx.me"><i class="fa-h-square"></i> 笑卒见清晰 </a>
		    </li>

	        <li>
	        	<a href="http://muyus.cc/" target="_blank" title="muyus.cc"><i class="fa-wordpress"></i> 暮雨今夕 </a>
	        </li>

	        <li>
	        	<a href="http://zhenlee.cn/" target="_blank" title="zhenlee.cn"><i class="fa-wordpress"></i> Fantasia </a>
	        </li>

	        <li>
	        	<a href="https://steinslab.xyz/" target="_blank" title="steinslab.xyz"><i class="fa-wordpress"></i> SPtuan </a>
	        </li>

	        <li>
	        	<a href="https://qyetfu.site/" target="_blank" title="qyetfu.site"><i class="fa-reorder"></i> Qyetfu </a>
	        </li-->
    	</ul>
    </div>
</div>

</script>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Statistics</h3>
    <div class="widget widget-background1" align="center">
    	<!--a href="https://clustrmaps.com/site/19kh7" title="Visit tracker"><img src="//clustrmaps.com/map_v2.png?cl=eeeeee&w=220&t=n&d=3kNIfPXlC9a4s7N8RRFV04RgWWonJP-1hQ4Drq_rVj8&co=3d3d3b&ct=eeeeee" /></a-->
    	<script type="text/javascript" src="//rf.revolvermaps.com/0/0/2.js?i=5gpp8v00aap&amp;m=8&amp;s=178&amp;c=fff600&amp;t=1" async="async"></script>
      	<a target="_blank" rel="noopener" href="https://s05.flagcounter.com/more/779"><img src="https://s05.flagcounter.com/count2/779/bg_3D3D3B/txt_FFFFFF/border_3D3D3B/columns_2/maxflags_100/viewers_0/labels_1/pageviews_1/flags_0/percent_1/" alt="shintaku.xyz" border="0"></a>
    </div>
</div>
  
    <div class="widget-wrap">
    <h3 class="widget-title">Reward</h3>
    <div class="widget widget-background1" align="center">
      	<img src="/images/alipay.png" alt="支付宝支付" width="220">
      	<img src="/images/wechat.png" alt="微信支付" width="220">
      	<a target="_blank" rel="noopener" href="https://www.paypal.me/liangzhenduo" title="PayPal支付" onclick="javascript:window.open('https://www.paypal.me/liangzhenduo','WIPaypal','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700'); return false;"><img src="https://www.paypalobjects.com/webstatic/mktg/logo/bdg_now_accepting_pp_2line_w.png" alt="PayPal支付" width="220"/></a>
    </div>
</div>
  
    <div id="ukagaka_panel"></div>
<script src="/js/jquery-ui.min.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/ukagaka.js"></script>
<script type="text/javascript">$('#ukagaka_panel').ukagaka();</script>

  
</aside>


          
        
      </div>
      <footer id="footer">
  

  <div class="outer" align="center">
    <div id="wechat" style="display: none">
      <img src="/images/mmqrcode.png" width="220" height="220">
    </div>
    <div class="social-group">
      
      <a href="https://github.com/liangzhenduo0608" target="_blank" title="GitHub"><i class="fa-github"></i></a>
      
      
      
      <a href="https://www.facebook.com/100005630052910" target="_blank" title="Facebook"><i class="fa-facebook"></i></a>
      
      
      <a href="https://www.instagram.com/liangzhenduo" target="_blank" title="Instagram"><i class="fa-instagram"></i></a>
      
      
      <a href="https://twitter.com/liangzhenduo" target="_blank" title="Twitter" ><i class="fa-twitter"></i></a>
      
      
      <a href="https://www.linkedin.com/in/zhenduo-liang-795110131" target="_blank" title="LinkedIn"><i class="fa-linkedin"></i></a>
      
      
      <a href="https://t.me/liangzhenduo" target="_blank" title="Telegram"><i class="fa-telegram"></i></a>
      
      <a href="/images/mmqrcode.png" title="WeChat" class="fancybox"><i class="fa-weixin"></i></a>
      
      
      <a href="mailto:liangzhenduo0608@hotmail.com" target="_blank" title="Email" ><i class="fa-envelope"></i></a>
      
    </div>
    <div id="footer-info" class="inner" align="center">
      Powered by <a href="https:\/\/hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https:\/\/github.com/hexojs/hexo-theme-landscape" target="_blank" title="landscape">landscape</a>     &copy; 2022 Shintaku
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
</nav>
    
<script>
  var disqus_shortname = 'shintaku';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>




  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/jquery.lazyload.js"></script>


<script src="/js/jquery.als-1.6.js"></script>


<script src="/js/script.js"></script>


  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>